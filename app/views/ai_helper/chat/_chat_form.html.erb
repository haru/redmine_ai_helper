<% content_for :header_tags do %>
  <%= stylesheet_link_tag 'ai_helper_command_completion', plugin: 'redmine_ai_helper' %>
  <%= javascript_include_tag 'ai_helper_command_completion', plugin: 'redmine_ai_helper' %>
<% end %>

<%= form_with model: @message, url: ai_helper_chat_path(@project), id: 'ai_helper_chat_form', local: true do |f| %>
  <p style="position: relative;">
    <%= f.text_area :content, rows: 5, placeholder: t(:label_chat_placeholder), id: 'ai-helper-message-input', style: 'width: 100%;', data: { project_id: @project&.id } %>
  </p>
  <%= hidden_field_tag :controller_name, "", id: 'ai_helper_controller_name' %>
  <%= hidden_field_tag :action_name, "", id: 'ai_helper_action_name' %>
  <%= hidden_field_tag :content_id, "", id: 'ai_helper_content_id' %>
  <%= f.submit t(:button_submit), id: 'aihelper-chat-submit' %>
<% end %>
<script>
  ai_helper.set_form_handlers();
</script>